<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="">

  <title>
    Disk Report  </title>

    <!-- Bootstrap Core CSS -->
  <link href="../vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

  <!-- MetisMenu CSS -->
  <link href="../vendor/metisMenu/metisMenu.min.css" rel="stylesheet">

  <!-- Custom CSS -->
  <link href="../dist/css/sb-admin-2.css" rel="stylesheet">
  <link href="../dist/css/rotate.css" rel="stylesheet">

  <!-- Custom Fonts -->
  <link href="../vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css"> 
  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

       </head>

<body>
  <div id="wrapper">
         <!-- /#container-fluid -->
      <!-- Navigation -->
<nav class="navbar navbar-default navbar-static-top" role="navigation" style="margin-bottom: 0">
  <div class="navbar-header">
    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
    <a class="navbar-brand" href="index.html">Colaboracao 2018</a>
  </div>
  <!-- /.navbar-header -->

  <div class="navbar-default sidebar" role="navigation">
    <div class="sidebar-nav navbar-collapse">
      <ul class="nav" id="side-menu">
        <li>
          <a href="dashboard.html">
            <i class="fa fa-dashboard fa-fw"></i> Dashboard</a>
        </li>
        <li>
          <a href="#">
            <i class="fa fa-tasks fa-fw"></i> Disk Report
            <span class="fa arrow"></span>
          </a>
          <ul class="nav nav-second-level">
            <li>
              <a href="report-disks.html">Disk Usage - Details</a>
            </li>
            <!--
            <li>
              <a href="report-disks-2.html">Disk Usage by Server</a>
            </li>
            -->
          </ul>
        </li>
        <li>
          <a href="#">
            <i class="fa fa-building fa-fw"></i> Domino Health
            <span class="fa arrow"></span>
          </a>
          <ul class="nav nav-second-level">
            <li>
              <a href="domino-health-general.html">General Health</a>
            </li>
            <li>
              <a href="domino-health-mail.html">Mail Health</a>
            </li>
            <li>
              <a href="domino-health-cluster.html">Cluster Health</a>
            </li>
            <li>
              <a href="domino-health-http.html">HTTP Health</a>
            </li>
            <!--
            <li>
              <a href="health.html">Disk Health</a>
            </li>
            -->
          </ul>
        </li>
      </ul>
    </div>
    <!-- /.sidebar-collapse -->
  </div>
  <!-- /.navbar-static-side -->
</nav>    <!-- Page Content -->
    <div id="page-wrapper">
      <div class="container-fluid">
        <div class="row">
  <div class="col-lg-12">
    <h1 class="page-header">Disk Report - 2018-06-13 21:39</h1>
  </div>
  <!-- /.col-lg-12 -->
</div>
<!-- /.row -->
<div class="row">
  <div class="col-lg-9">
    <div class="panel panel-default">
      <div class="panel-heading">
        Disk Usage Environment
      </div>
      <!-- /.panel-heading -->
      <div class="panel-body">
        <span style="font-size:28px">Servers #: &nbsp;&nbsp;
          <span style="font-size: 75%;color: #777">2</span>
        </span>
        <br>
        <span style="float:left; font-size:28px">Total: &nbsp;&nbsp;</span>
        <div class='bar'>
          <div class="progress" style="float:left; width:300px; height:40px; ">
            <div class="            progress-bar progress-bar-success
            " style="width:110.67px"></div>
          </div>
          <span style="float:left; font-size:28px">&nbsp;&nbsp;
            <span style="font-size: 75%;color: #777">(2.49TB / 6.74TB) - 36.89%
            </span>
          </span>
          <div style="clear:both"></div>
        </div>
      </div>
      <!-- /.panel-body -->
    </div>
    <!-- /.panel -->
  </div>
  <!-- /.col-lg-12 -->
  <div class="col-lg-3">
    <div class="panel panel-default">
      <div class="panel-heading">
        Export Files
      </div>
      <!-- /.panel-heading -->
      <div class="panel-body">
        <ul>
          <li>
            <a href="report-disks.csv">report-disks.csv</a>
          </li>
          <li>
            <a href="report-disks.txt">report-disks.txt</a>
          </li>
          <li>
            <a href="report-disks.json">report-disks.json</a>
          </li>
          <li>
            <a href="report-disks.sql">report-disks.sql</a>
          </li>
        </ul>
      </div>
      <!-- /.panel-body -->
    </div>
    <!-- /.panel -->
  </div>
  <!-- /.col-lg-12 -->
</div>
<!-- /.row -->
<div class="row">
  <div class="col-lg-12">
    <div class="panel panel-default">
      <div class="panel-heading">
        Disk Usage by Server
      </div>
      <!-- /.panel-heading -->
      <div class="panel-body">
        <table width="100%" class="table">
          <thead>
            <tr>
              <th>Server</th>
              <th>Disk Usage Total</th>
              <th>Disk Usage Details</th>
            </tr>
          </thead>
          <tbody id="tbody-update">
          </tbody>
        </table>
        <!-- /.table-responsive -->
      </div>
      <!-- /.panel-body -->
    </div>
    <!-- /.panel panel-default -->
  </div>
  <!-- /.col-lg-12 -->
  <!-- /.panel-body -->
</div>
<!-- /.row -->
      </div>
      <!-- /#container-fluid -->
    </div>
    <!-- /#page-wrapper -->
      </div>
  <!-- /#wrapper -->
    <!-- jQuery -->
  <script src="../vendor/jquery/jquery.min.js"></script>

  <!-- Bootstrap Core JavaScript -->
  <script src="../vendor/bootstrap/js/bootstrap.min.js"></script>

  <!-- Metis Menu Plugin JavaScript -->
  <script src="../vendor/metisMenu/metisMenu.min.js"></script>

  <!-- Custom Theme JavaScript -->
  <script src="../dist/js/sb-admin-2.js"></script>
    <script>
  $.getJSON('report-disks.json', function (data) {
    console.log(data);
    var output = '';
    $.each(data.servers, function (key, val) {
      output += '<tr>';
      output += '<td>' + val.name + '</td>';
      output += '<td><div class="bar"><div class="progress" style="float:left; width:100px; height:16px; margin-bottom:1px;"><div class="progress-bar ';
      output += (val.disks_used_total_perc >= 89) ? ('progress-bar-danger') : ((val.disks_used_total_perc >= 75) ? ('progress-bar-warning') : ('progress-bar-success'))
      output += '" style="width:' + val.disks_used_total_perc + 'px">';
      output += '</div></div><span style="float:left; font-size:12px">&nbsp;&nbsp;Total <span style="font-size: 75%;color: #777">';
      output += '(' + val.disks_used_total_human + ' / ' + val.disks_size_total_human + ') - ' + val.disks_used_total_perc + '%';
      output += '</span></span><div style="clear:both"></div></td>';
      output += '<td>';
      $.each(val.disks, function (key2, val2) {
        output += '<div class="bar"><div class="progress" style="float:left; width:100px; height:16px; margin-bottom:1px;">';
        output += '<div class="progress-bar ';
        if (val2.label.indexOf('logdir') != -1) {
          output += (val2.used_perc >= 50) ? ('progress-bar-danger') : ((val2.used_perc >= 45) ? ('progress-bar-warning') : ('progress-bar-success'));
        } else {
          output += (val2.used_perc >= 89) ? ('progress-bar-danger') : ((val2.used_perc >= 75) ? ('progress-bar-warning') : ('progress-bar-success'));
        }
        output += '" style="width:'+ val2.used_perc + 'px">';
        output += '</div></div>';
        output += '<span style="float:left; font-size:12px">&nbsp;&nbsp;' + val2.label;
        output += '  <span style="font-size: 75%;color: #777">';
        output += '(' + val2.used_human + ' / ' + val2.size_human + ') - ' + val2.used_perc + '%</span>';
        output += '</span>';
        output += '<div style="clear:both"></div>';
        output += '</div>';
      });
      output += '</td>';
      output += '</tr>';
    });
    $('#tbody-update').html(output);
  });
</script>
  <script>
    function toBootstrap(status, title) {

      if (status == 'Excelent') {
        return '<i class="fa fa-check-circle text-success" title="' + title + '" ></i>';
      }
      if (status == 'Good') {
        return '<i class="fa fa-check-circle text-success" title="' + title + '" ></i>';
      }
      if (status == 'Warning') {
        return '<i class="fa fa-info-circle text-warning" title="' + title + '" ></i>';
      }
      if (status == 'Bad') {
        return '<i class="fa fa-times-circle text-danger" title="' + title + '" ></i>';
      }
      if (status == 'Disabled') {
        return '<i class="fa fa-circle text-primary" title="' + title + '" ></i>';
      }
      if (status == 'Attention') {
        return '<i class="fa fa-exclamation-circle text-warning" title="' + title + '" ></i>';
      }
      if (status == 'Need Investigation') {
        return '<i class="fa fa-question-circle text-warning" title="' + title + '" ></i>';
      }
      return '';
    }

    function renderStat(name, stats) {
      var status = stats[name + ".status"];
      var status_help = '';
      if (stats[name + ".status_help"] !== undefined) {
        status_help = ' -- ' + stats[name + ".status_help"]
      }
      var title = name + ' = ' + stats[name] + ' [' + status + ']' + status_help;

      return toBootstrap(status, title);
    }
  </script>
</body>

</html>